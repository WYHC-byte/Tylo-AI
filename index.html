<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TyloAI - Power, at your command</title>
	<meta name="description" content="TyloAI - Power, at your command" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        // 配置Tailwind
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#10b981',
                        accent: '#f59e0b',
                        dark: '#1e293b',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif']
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in': 'fadeIn 0.8s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'slide-in': 'slideIn 0.6s ease-out',
                        'thinking': 'thinking 1.5s ease-in-out infinite',
                        'typing': 'typing 2s steps(40, end)'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' }
                        },
                        thinking: {
                            '0%, 100%': { opacity: '0.3' },
                            '50%': { opacity: '1' }
                        },
                        typing: {
                            '0%': { width: '0' },
                            '100%': { width: '100%' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .message {
            width: 100%;
            margin-bottom: 1.5rem;
        }

        .message.user {
            display: flex;
            justify-content: flex-end; /* Align user messages to the right */
        }

        .message.assistant {
            display: flex;
            justify-content: flex-start;
        }

        .chat-mode #heroVisual {
            display: none !important;
        }

        .chat-mode #heroContent {
            grid-column: 1 / -1 !important;
            width: 100% !important;
        }

        .chat-messages-container {
            margin-top: 2rem;
            max-height: calc(100vh - 300px);
        }
        html {
            scroll-behavior: smooth;
        }
        
        /* CSS 变量定义 */
        :root {
            --swatch--gray-950: #131314;
            --swatch--gray-050: #f7f7f7;
            --swatch--clay-interactive: #D97757;
            --swatch--transparent: transparent;
            
            --_theme---background: #FFFFFF;
            --_theme---foreground-primary: var(--swatch--gray-950);
            --_theme---border-primary: #D1D5DB;
            --_theme---selection--background: var(--swatch--clay-interactive);
            --_theme---selection--text: #ffffff;
            
            --_typography---font--primary-family: "Space Grotesk", "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
            --_typography---font--secondary-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
            --radius--large: 12px;
            --border-width--main: 1px;
            --focus--offset-outer: 2px;
            --focus--width: 2px;
            
            --tech-bg-primary: #F8FAFC;
            --tech-bg-secondary: #F1F5F9;
            --tech-accent: #3B82F6;
            --tech-accent-light: #EFF6FF;
        }

        /* 基础样式 */
        body {
            margin: 0;
            background-color: var(--_theme---background);
            font-family: var(--_typography---font--primary-family);
            color: var(--_theme---foreground-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
            font-size: 16px;
            font-weight: 400;
        }
        *, *::before, *::after {
            box-sizing: border-box;
        }
        p {
            margin: 0;
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        ::selection {
            background-color: var(--_theme---selection--background);
            color: var(--_theme---selection--text);
        }

        /* 布局样式 */
        .u-section {
            position: relative;
        }
        .u-container {
            width: 100%;
            max-width: 1440px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 2rem;
            padding-right: 2rem;
        }
        .u-grid-above {
            display: grid;
            grid-template-columns: repeat(24, 1fr);
            gap: 1.5rem;
        }
        .u-column-custom {
            grid-column: span 12;
        }

        /* 导航栏样式 */
        .navbar_wrap {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 0;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: var(--border-width--main) solid var(--_theme---border-primary);
            transition: all 0.3s ease;
        }
        
        .navbar_wrap.scrolled {
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .navbar_container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar_brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .navbar_logo_img {
            height: 32px;
            width: auto;
            display: block;
        }
        
        .navbar_logo {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--_theme---foreground-primary);
            font-family: var(--_typography---font--primary-family);
            letter-spacing: -0.02em;
        }
        
        .navbar_links {
            display: flex;
            align-items: center;
        }
        .navbar_links a {
            margin-left: 1.5rem;
            font-weight: 500;
            color: var(--_theme---foreground-primary);
            font-family: var(--_typography---font--secondary-family);
            font-size: 0.95rem;
            transition: color 0.2s ease;
            position: relative;
        }
        
        .navbar_links a:hover {
            color: var(--swatch--clay-interactive);
        }
        
        body {
            padding-top: 80px;
        }

        /* 主视觉区样式 - 右侧视觉元素放大 */
        .hero_home_wrap {
            padding-top: 6rem;
            padding-bottom: 6rem;
            min-height: calc(100vh - 80px);
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .hero_home_wrap.chat-mode {
            min-height: calc(100vh - 180px);
            padding-bottom: 120px;
        }
        
        .hero_home_layout {
            align-items: center;
            min-height: 500px;
        }
        
        .hero_home_content {
            grid-column: 2 / span 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
            transition: all 0.3s ease;
        }
        
        .hero_home_visual {
            grid-column: 14 / span 10;
            position: relative;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        /* 聊天模式样式调整 */
        .chat-mode .hero_home_content {
            grid-column: 1 / -1;
        }

        .chat-mode .hero_home_visual {
            display: none;
        }

        /* 隐藏聊天模式下的标题和副标题 */
        .chat-mode .hero_home_heading_wrap {
            display: none !important;
        }

        .chat-mode .hero_home_text_wrap {
            display: none !important;
        }
        
        /* 放大右侧动画区域 */
        .heroes_lottie_wrap {
            width: 100%;
            height: 100%;
            position: relative;
            max-width: 500px; /* 增大尺寸 */
            max-height: 500px; /* 增大尺寸 */
        }

        /* 主视觉区渐变文字样式 */
        .hero_home_heading_wrap p {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 600;
            line-height: 1.1;
            letter-spacing: -0.03em;
            margin-bottom: 1.5rem;
            font-family: var(--_typography---font--primary-family);
        }
        .hero_home_text_wrap p {
            font-size: 1.25rem;
            line-height: 1.6;
            max-width: 45ch;
            margin-bottom: 2rem;
            font-family: var(--_typography---font--secondary-family);
            font-weight: 400;
            color: #4B5563;
        }

        /* 输入框样式 */
        .form_prompt_list {
            position: relative;
        }
        .form_prompt_field {
            position: relative;
            display: flex;
            align-items: center;
            background-color: #F9FAFB;
            border: var(--border-width--main) solid var(--_theme---border-primary);
            border-radius: var(--radius--large);
            padding-left: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        
        .form_prompt_field.expanded {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 4rem);
            max-width: 800px;
            z-index: 100;
            background-color: #FFFFFF;
            border: 2px solid var(--swatch--clay-interactive);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            border-radius: 16px;
            padding: 0.75rem 1rem;
        }
        
        .form_prompt_field:focus-within {
            border-color: var(--swatch--clay-interactive);
            box-shadow: 0 0 0 3px rgba(217, 119, 87, 0.1);
        }
        .form_prompt_textarea {
            width: 100%;
            padding: 1rem 0.5rem 1rem 0;
            background-color: transparent;
            border: none;
            color: var(--_theme---foreground-primary);
            font-size: 1rem;
            resize: none;
            overflow-y: hidden;
            font-family: var(--_typography---font--secondary-family);
            font-weight: 400;
            min-height: 24px;
        }
        .form_prompt_textarea::placeholder {
            color: #9CA3AF;
            font-weight: 400;
        }
        .form_prompt_textarea:focus {
            outline: none;
        }
        .button_small_wrap {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            background-color: var(--swatch--clay-interactive);
            color: white;
            font-weight: 500;
            cursor: pointer;
            margin: 0.5rem;
            border: none;
            transition: all 0.2s ease;
            font-family: var(--_typography---font--secondary-family);
        }
        .button_small_wrap:hover {
            background-color: #C0684A;
            transform: translateY(-1px);
        }
        .button_small_wrap:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .button_small_text {
             font-size: 1rem;
        }
        
        .chat-messages-container {
            display: none;
            width: 100%;
            height: 100%; /* Make chat container fill the space */
            max-height: 100%; /* Override previous max-height */
            overflow-y: auto;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 16px;
            scrollbar-width: thin;
            scrollbar-color: #cbd5e0 #f8f9fa;
            border: 1px solid #e5e7eb;
        }
        
        .chat-messages-container.active {
            display: block;
        }
        
        .chat-messages-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages-container::-webkit-scrollbar-track {
            background: #f8f9fa;
            border-radius: 3px;
        }
        
        .chat-messages-container::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 3px;
        }
        
        .chat-messages-container::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }
        
        .message {
            margin-bottom: 1rem;
            animation: fadeInUp 0.4s ease;
            display: flex;
            max-width: 85%; /* Set max-width for messages */
            width: -webkit-fit-content;
            width: -moz-fit-content;
            width: fit-content;
            word-wrap: break-word;
        }

        .message.user {
             margin-left: auto; /* Align user message to the right */
        }
        
        .message.user .message-content {
            background: linear-gradient(135deg, var(--swatch--clay-interactive) 0%, #E67E54 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 20px 20px 4px 20px;
            box-shadow: 0 4px 12px rgba(217, 119, 87, 0.3);
            text-align: left;
        }
        
        .message.assistant {
            margin-right: auto; /* Align assistant message to the left */
        }
        
        .message.assistant .message-content {
            background: white;
            color: #1f2937;
            padding: 1rem 1.5rem;
            border-radius: 20px 20px 20px 4px;
            word-wrap: break-word;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            text-align: left;
            line-height: 1.6;
            position: relative;
        }

        /* Support for different text sizes */
        .message-content h1 { font-size: 1.5rem; font-weight: bold; margin: 0.5rem 0; }
        .message-content h2 { font-size: 1.3rem; font-weight: bold; margin: 0.4rem 0; }
        .message-content h3 { font-size: 1.1rem; font-weight: bold; margin: 0.3rem 0; }
        .message-content strong { font-weight: 600; }
        .message-content em { font-style: italic; }
        .message-content code { 
            background: #f3f4f6; 
            padding: 0.2rem 0.4rem; 
            border-radius: 4px; 
            font-family: monospace; 
            font-size: 0.9rem;
        }

        /* Table styles */
        .message-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .message-content th,
        .message-content td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        .message-content th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        .message-content tr:hover {
            background: #f9fafb;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 0.75rem 1rem;
            background: white;
            border-radius: 16px 16px 16px 4px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #9ca3af;
            border-radius: 50%;
            animation: typing-bounce 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        /* Message Counter */
        .message-counter {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(217, 119, 87, 0.9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            z-index: 101;
            backdrop-filter: blur(10px);
            display: none;
        }
        
        .message-counter.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes typing-bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
        
        /* Responsive Adjustments */
        @media (max-width: 991px) {
            .hero_home_layout {
                grid-template-columns: 1fr;
                gap: 3rem;
                min-height: auto;
            }
            .hero_home_visual {
                grid-column: 1 / -1;
                order: 1;
                min-height: 350px; /* Enlarge on mobile as well */
            }
            .hero_home_content {
                grid-column: 1 / -1;
                order: 2;
            }
            .hero_home_wrap {
                padding-top: 4rem;
                padding-bottom: 4rem;
            }
            
            .navbar_links {
                display: none;
            }

            .tech_grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .tech_section_card {
                padding: 1.5rem;
            }

            .tech_moat_wrap {
                padding: 4rem 0;
            }
            
            .form_prompt_field.expanded {
                width: calc(100% - 2rem);
                left: 50%;
                transform: translateX(-50%);
            }
        }
        
        @media (max-width: 640px) {
            .u-container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .navbar_logo {
                font-size: 1.25rem;
            }
            
            .navbar_logo_img {
                height: 28px;
            }

            .tech_grid {
                grid-template-columns: 1fr;
            }

            .tech_section_card {
                padding: 1rem;
            }
            
            /* Mobile visual element adjustment */
            .heroes_lottie_wrap {
                max-width: 320px;
                max-height: 320px;
            }
            
            .form_prompt_field.expanded {
                width: calc(100% - 1rem);
                bottom: 10px;
            }
            
            .message-counter {
                right: 10px;
            }
        }
        /* Thinking Process Styles */
        .thinking-container {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border: 1px solid #d1d5db;
            border-radius: 12px;
            margin: 0.5rem 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .thinking-header {
            padding: 0.75rem 1rem;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .thinking-header:hover {
            background: linear-gradient(135deg, #5856eb 0%, #7c3aed 100%);
        }

        .thinking-content {
            padding: 1rem;
            background: #f8fafc;
            color: #374151;
            line-height: 1.6;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            font-family: monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }

        .thinking-content.expanded {
            max-height: 500px;
            overflow-y: auto;
        }

        .thinking-toggle {
            transition: transform 0.3s ease;
        }

        .thinking-toggle.expanded {
            transform: rotate(180deg);
        }

        .streaming-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: #6366f1;
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
    </style>

    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            .backdrop-blur {
                backdrop-filter: blur(8px);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
            }
            .glow {
                box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
            }
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>

</head>
<body>

    <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-300 py-4">
        <div class="container mx-auto px-4 md:px-6 flex items-center justify-between">
            <div class="flex items-center">
                <a href="#" class="flex items-center">
                    <img src="logo.png" alt="TyloAI Logo" class="h-10 w-auto mr-2 animate-fade-in">
                    <span class="text-2xl font-display font-bold bg-gradient-to-r from-primary to-secondary text-gradient">TyloAI</span>
                </a>
                <span class="ml-2 text-sm text-gray-500 dark:text-gray-400 hidden md:inline-block">© 2025</span>
            </div>
            
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#features" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition-colors" data-i18n="nav.features">Features</a>
                <a href="#tech" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition-colors" data-i18n="nav.technology">Technology</a>
                <a href="#pricing" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition-colors" data-i18n="nav.pricing">Pricing</a>
                <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition-colors" data-i18n="nav.about">About</a>
            </nav>
            
            <div class="flex items-center space-x-4">
                <div class="relative mr-4 group">
                    <button id="languageBtn" class="flex items-center px-3 py-2 rounded-full border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <span id="currentLanguage">English</span>
                        <i class="fa fa-chevron-down ml-2 text-xs"></i>
                    </button>
                    <div id="languageDropdown" class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transform scale-95 opacity-0 pointer-events-none group-hover:scale-100 group-hover:opacity-100 group-hover:pointer-events-auto transition-all duration-200 z-50">
                        <ul class="divide-y divide-gray-200 dark:divide-gray-700">
                            <li><a href="#" data-lang="en" class="language-option block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">English</a></li>
                            <li><a href="#" data-lang="zh" class="language-option block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">中文</a></li>
                            <li><a href="#" data-lang="ja" class="language-option block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">日本語</a></li>
                            <li><a href="#" data-lang="ko" class="language-option block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">한국어</a></li>
                        </ul>
                    </div>
                </div>
                
                <button id="themeToggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors mr-2">
                    <i class="fa fa-moon-o dark:hidden text-gray-600"></i>
                    <i class="fa fa-sun-o hidden dark:inline text-yellow-400"></i>
                </button>
                
                <a href="login.html" class="px-6 py-2 bg-primary hover:bg-primary/90 text-white rounded-full font-medium transition-all shadow-lg hover:shadow-primary/30 hover:shadow-xl transform hover:-translate-y-0.5">
                    <span data-i18n="login">Login</span>
                </a>
            </div>
        </div>
    </header>

    <div class="message-counter" id="messageCounter">
        Message <span id="messageCount">0</span>/3
    </div>

    <section data-animate-hero-wrap class="hero_home_wrap u-section" id="heroSection">
        <div class="hero_home_contain u-container">
            <div class="hero_home_layout u-grid-above" id="heroLayout">
                
                <div class="hero_home_content" id="heroContent">
                    <div data-animate-hero-heading class="hero_home_heading_wrap">
                        <div>
                            <p class="bg-gradient-to-r from-primary to-secondary text-gradient">Power, at your command</p>
                        </div>
                    </div>
                    <div data-animate-hero-text class="hero_home_text_wrap">
                        <div>
                            <p data-i18n="hero.subtitle">Experience ode-6: The AI that thinks, searches, and reflects - all in real-time.</p>
                        </div>
                    </div>
                    
                    <div class="chat-messages-container" id="chatMessages"></div>
                    
                    <div data-animate-hero-cta class="hero_home_form">
                        <div class="prompt_wrap">
                            <div class="form_prompt_wrap">
                                <form data-claude-form class="form_prompt_list">
                                    <div class="form_prompt_field" id="chatInputField">
                                        <textarea data-autogrow class="form_prompt_textarea" id="chatInput" placeholder="How can I help you today?"></textarea>
                                        <button type="button" data-claude-button class="button_small_wrap" id="sendButton">
                                            <div class="button_small_text" data-i18n="hero.cta">Ask TyloAI</div>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="hero_home_visual" id="heroVisual">
                    <div class="heroes_lottie_wrap">
                        <div 
                            data-lottie 
                            data-lottie-src="https://cdn.prod.website-files.com/6889473510b50328dbb70ae6/68c004190c4e4446cd87c39e_Overview.json" 
                            data-frames-in="0,200" 
                            data-frames-loop="181,240"
                            class="heroes_lottie_component">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="container mx-auto px-4 md:px-6 mb-24">
        <div class="text-center max-w-3xl mx-auto mb-16">
            <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-display font-bold mb-6" data-i18n="features.title">Core AI Capabilities</h2>
            <p class="text-lg text-gray-600 dark:text-gray-300" data-i18n="features.subtitle">TyloAI offers a comprehensive suite of advanced AI tools to power your productivity and creativity.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-2 border-primary/20 dark:border-primary/30 card-hover relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-gradient-to-l from-primary/10 to-transparent w-32 h-32 rounded-bl-full"></div>
                <div class="w-12 h-12 bg-gradient-to-r from-primary to-secondary rounded-lg flex items-center justify-center mb-5 relative">
                    <i class="fa fa-brain text-white text-xl"></i>
                </div>
                <div class="flex items-center mb-3">
                    <h3 class="text-xl font-bold" data-i18n="features.ode6.title">ode-6 Agent Architecture</h3>
                    <span class="ml-2 px-2 py-1 bg-primary/10 text-primary text-xs rounded-full font-medium" data-i18n="common.new">NEW</span>
                </div>
                <p class="text-gray-600 dark:text-gray-300 mb-3" data-i18n="features.ode6.description">Next-gen AI with consciousness stream:</p>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.ode6.autonomous">Autonomous decision-making (0.3-1s)</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.ode6.realtime">Real-time search while reasoning</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.ode6.introspection">Post-thinking introspection</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.ode6.apis">10 integrated APIs in one model</span>
                    </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 card-hover">
                <div class="w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mb-5">
                    <i class="fa fa-cubes text-primary text-xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-3" data-i18n="features.multiModel.title">Multi-Model Support</h3>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.multiModel.deepSearch">Deep Search Analysis</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.multiModel.coding">Advanced Coding</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.multiModel.reasoning">Deep Reasoning</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.multiModel.research">Advanced Research</span>
                    </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 card-hover">
                <div class="w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mb-5">
                    <i class="fa fa-users text-primary text-xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-3" data-i18n="features.agent.title">Multi-Agent Collaboration</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-3" data-i18n="features.agent.description">Collaborative intelligence system:</p>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.agent.threeAIs">3 AI models analyzing perspectives</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.agent.debate">Constructive debate consensus</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.agent.accuracy">99% standard accuracy</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.agent.math">95.7% complex math accuracy</span>
                    </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 card-hover">
                <div class="w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mb-5">
                    <i class="fa fa-magic text-primary text-xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-3" data-i18n="features.generation.title">Content Generation</h3>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.generation.images">Image Generation (Aria model)</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.generation.styles">Multiple artistic styles</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.generation.music">Music Generation (Suno)</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.generation.streaming">Real-time streaming output</span>
                    </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 card-hover">
                <div class="w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mb-5">
                    <i class="fa fa-comments text-primary text-xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-3" data-i18n="features.chat.title">Advanced Chat</h3>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.chat.context">Context memory system</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.chat.upload">Multi-format file uploads</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.chat.voices">Multiple voice styles</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.chat.code">Code execution Canvas</span>
                    </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 card-hover">
                <div class="w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mb-5">
                    <i class="fa fa-briefcase text-primary text-xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-3" data-i18n="features.business.title">Business Features</h3>
                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.business.payment">WeChat Pay + Stripe</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.business.invite">Invitation rewards system</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.business.codes">Redeemable codes</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                        <span data-i18n="features.business.marketplace">Plugin marketplace</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="mt-12 text-center">
            <a href="login.html" class="inline-flex items-center text-primary hover:text-primary/80 font-medium transition-colors">
                <span data-i18n="features.seeAll">See all 30+ features</span>
                <i class="fa fa-arrow-right ml-2"></i>
            </a>
        </div>
    </section>

    <section id="tech" class="bg-gray-50 dark:bg-gray-900/50 py-20 mb-24">
        <div class="container mx-auto px-4 md:px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-display font-bold mb-6" data-i18n="tech.title">Technical Excellence</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300" data-i18n="tech.subtitle">Built with cutting-edge technology to deliver a seamless experience across all devices.</p>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl text-center shadow-md border border-gray-200 dark:border-gray-700 card-hover">
                    <div class="w-14 h-14 bg-primary/10 dark:bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fa fa-mobile text-primary text-2xl"></i>
                    </div>
                    <h3 class="font-bold mb-2" data-i18n="tech.responsive">Responsive Design</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tech.responsiveDesc">Perfect on all devices</p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl text-center shadow-md border border-gray-200 dark:border-gray-700 card-hover">
                    <div class="w-14 h-14 bg-primary/10 dark:bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fa fa-moon-o text-primary text-2xl"></i>
                    </div>
                    <h3 class="font-bold mb-2" data-i18n="tech.darkMode">Dark Mode</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="tech.darkModeDesc">Easy theme switching</p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl text-center shadow-md border border-gray-200 dark:border-gray-700 card-hover">
                    <div class="w-14 h-14 bg-primary/10 dark:bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fa fa-sync text-primary text-2xl"></i>
                    </div>
                    <h3 class="font-bold mb-2" data-i18n="tech.sync">Real-time Sync</h3>
                </div>
            </div>
        </div>
    </section>

    <section class="container mx-auto px-4 md:px-6 mb-24">
        <div class="flex flex-col lg:flex-row items-center gap-12">
            <div class="lg:w-1/2">
                <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-display font-bold mb-6" data-i18n="video.title">See TyloAI in Action</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-8" data-i18n="video.subtitle">Watch our promotional videos to discover the power of TyloAI's capabilities.</p>
                
                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="w-10 h-10 bg-secondary/10 dark:bg-secondary/20 rounded-lg flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                            <i class="fa fa-flask text-secondary"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1" data-i18n="video.researchTitle">Research Capabilities</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-3" data-i18n="video.researchDesc">Explore how TyloAI transforms research with advanced analysis and insights.</p>
                            <button class="video-selector px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-lg transition-colors" data-video="research">
                                <i class="fa fa-play-circle mr-2"></i>
                                <span data-i18n="video.watchResearch">Watch Research Video</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-10 h-10 bg-secondary/10 dark:bg-secondary/20 rounded-lg flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                            <i class="fa fa-rocket text-secondary"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1" data-i18n="video.overviewTitle">Complete Overview</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-3" data-i18n="video.overviewDesc">Get a comprehensive look at all TyloAI features and capabilities.</p>
                            <button class="video-selector px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors" data-video="overview">
                                <i class="fa fa-play-circle mr-2"></i>
                                <span data-i18n="video.watchOverview">Watch Overview Video</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="lg:w-1/2 relative w-full">
                <div class="absolute -top-10 -left-10 w-40 h-40 bg-primary/10 dark:bg-primary/20 rounded-full blur-3xl"></div>
                <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-secondary/10 dark:bg-secondary/20 rounded-full blur-3xl"></div>
                <div class="relative bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700">
                    <div class="aspect-video w-full">
                        <video id="researchVideo" class="w-full h-full object-cover" controls poster="research-poster.jpg">
                            <source src="research.mp4" type="video/mp4">
                            <span data-i18n="video.unsupported">Your browser does not support the video tag.</span>
                        </video>
                        <iframe id="overviewVideo" class="w-full h-full object-cover hidden" src="https://www.youtube.com/embed/rNYJhGg93F8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing" class="container mx-auto px-4 md:px-6 mb-24">
        <div class="text-center max-w-3xl mx-auto">
            <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-display font-bold mb-6" data-i18n="pricing.title">Choose Your Plan</h2>
            <p class="text-lg text-gray-600 dark:text-gray-300 mb-8" data-i18n="pricing.subtitle">Flexible pricing options for every need. Switch to yearly and save 20%.</p>
        </div>

        <div class="flex justify-center items-center mb-12">
            <div class="pricing-toggle-wrap inline-flex items-center">
                <input type="checkbox" id="pricingToggle" class="hidden">
                <label for="pricingToggle" class="pricing-toggle-label w-28 text-center py-2 cursor-pointer font-medium text-gray-800 dark:text-gray-200" data-i18n="pricing.monthly">Monthly</label>
                <label for="pricingToggle" class="pricing-toggle-label w-28 text-center py-2 cursor-pointer font-medium text-gray-500 dark:text-gray-400" data-i18n="pricing.annually">Annually</label>
                <div class="pricing-toggle-bg"></div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700 card-hover flex flex-col">
                <h3 class="text-2xl font-bold mb-2" data-i18n="pricing.starter.title">Starter</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6 flex-grow" data-i18n="pricing.starter.description">For individuals starting to explore AI capabilities.</p>
                <div class="mb-6">
                    <span class="text-5xl font-bold" data-i18n="pricing.starter.price">$0</span>
                    <span class="text-gray-500" data-i18n="pricing.starter.period">/ month</span>
                </div>
                <ul class="space-y-4 text-gray-600 dark:text-gray-300 mb-8 flex-grow">
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.starter.f1">100 messages/month</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.starter.f2">Standard model access</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.starter.f3">Standard search analysis</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.starter.f4">Community support</span></li>
                </ul>
                <a href="login.html" class="mt-auto w-full text-center px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg font-medium transition-all">
                    <span data-i18n="pricing.starter.cta">Get Started</span>
                </a>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-primary card-hover relative flex flex-col">
                <div class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2">
                    <div class="px-4 py-1 bg-primary text-white text-sm font-bold rounded-full" data-i18n="pricing.pro.badge">Most Popular</div>
                </div>
                <h3 class="text-2xl font-bold mb-2" data-i18n="pricing.pro.title">Pro</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6 flex-grow" data-i18n="pricing.pro.description">For professionals who need advanced AI power.</p>
                <div class="mb-6">
                    <span class="text-5xl font-bold price-element" data-monthly="20" data-annually="16">$9.9</span>
                    <span class="text-gray-500 price-period">/ 1st month</span>
                </div>
                <ul class="space-y-4 text-gray-600 dark:text-gray-300 mb-8 flex-grow">
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.pro.f1">Unlimited messages</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.pro.f2">Full ode-6 Agent access</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.pro.f3">Advanced models (coding, research)</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.pro.f4">50 image/music credits/month</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.pro.f5">Priority email support</span></li>
                </ul>
                <a href="login.html" class="mt-auto w-full text-center px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-primary/30">
                    <span data-i18n="pricing.pro.cta">Upgrade to Pro</span>
                </a>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700 card-hover flex flex-col">
                <h3 class="text-2xl font-bold mb-2" data-i18n="pricing.enterprise.title">Enterprise</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6 flex-grow" data-i18n="pricing.enterprise.description">For teams and organizations requiring scale and security.</p>
                <div class="mb-6">
                    <span class="text-4xl font-bold" data-i18n="pricing.enterprise.price">Let's Talk</span>
                </div>
                <ul class="space-y-4 text-gray-600 dark:text-gray-300 mb-8 flex-grow">
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.enterprise.f1">All features in Pro</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.enterprise.f2">Team management & billing</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.enterprise.f3">SSO & enhanced security</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.enterprise.f4">Custom API integrations</span></li>
                    <li class="flex items-center"><i class="fa fa-check text-secondary mr-3"></i> <span data-i18n="pricing.enterprise.f5">Dedicated 24/7 support</span></li>
                </ul>
                <a href="login.html" class="mt-auto w-full text-center px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg font-medium transition-all">
                    <span data-i18n="pricing.enterprise.cta">Contact Sales</span>
                </a>
            </div>
        </div>
    </section>

    <section id="about" class="bg-gray-50 dark:bg-gray-900/50 py-20">
        <div class="container mx-auto px-4 md:px-6">
            <div class="text-center mb-16">
                <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-display font-bold mb-6" data-i18n="about.title">About TyloAI</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto" data-i18n="about.description">Our mission is to build artificial intelligence that is not just powerful, but also intuitive, accessible, and a true partner in human creativity and productivity.</p>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-12 items-center max-w-6xl mx-auto">
                <div class="space-y-6 text-gray-700 dark:text-gray-300 text-lg">
                    <p data-i18n="about.p1">TyloAI was founded on a simple yet profound belief: the future of technology lies in the seamless collaboration between human and artificial intelligence. We saw a world on the cusp of a new era, but the tools felt fragmented, complex, and impersonal. We set out to change that.</p>
                    <p data-i18n="about.p2">Our team of researchers, engineers, and designers is dedicated to pushing the boundaries of what's possible. From developing our groundbreaking ode-6 agent architecture to integrating multi-modal capabilities, every step we take is guided by our commitment to creating an AI that understands context, reasons deeply, and interacts naturally.</p>
                </div>
                <div class="space-y-8">
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mr-5">
                            <i class="fa fa-lightbulb-o text-primary text-2xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-2" data-i18n="about.v1.title">Innovation</h3>
                            <p class="text-gray-600 dark:text-gray-400" data-i18n="about.v1.desc">We are relentless in our pursuit of the next breakthrough, constantly exploring new frontiers in AI to deliver unparalleled capabilities.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mr-5">
                            <i class="fa fa-shield text-primary text-2xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-2" data-i18n="about.v2.title">Integrity</h3>
                            <p class="text-gray-600 dark:text-gray-400" data-i18n="about.v2.desc">We build with responsibility, ensuring our technology is developed ethically, with a strong commitment to user privacy and data security.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center mr-5">
                            <i class="fa fa-star-o text-primary text-2xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-2" data-i18n="about.v3.title">Excellence</h3>
                            <p class="text-gray-600 dark:text-gray-400" data-i18n="about.v3.desc">From the underlying models to the user interface, we are obsessed with quality, creating a product that is reliable, elegant, and a joy to use.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-50 dark:bg-gray-900/50 py-12">
        <div class="container mx-auto px-4 md:px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <div class="flex items-center mb-6">
                        <img src="logo.png" alt="TyloAI Logo" class="h-8 w-auto mr-2">
                        <span class="text-xl font-display font-bold bg-gradient-to-r from-primary to-secondary text-gradient">TyloAI</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-6" data-i18n="footer.tagline">Power, at your command</p>
                    <div class="flex space-x-4">
                        <a href="https://www.youtube.com/channel/UCHYEPXnBtHmaLF3pOIGhwUw" class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-primary hover:text-white transition-colors">
                            <i class="fa fa-youtube"></i>
                        </a>
                        <a href="https://www.youtube.com/channel/UCHYEPXnBtHmaLF3pOIGhwUw" class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-primary hover:text-white transition-colors">
                            <i class="fa fa-facebook"></i>
                        </a>
                        <a href="https://www.youtube.com/channel/UCHYEPXnBtHmaLF3pOIGhwUw" class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-primary hover:text-white transition-colors">
                            <i class="fa fa-instagram"></i>
                        </a>
                        <a href="https://www.youtube.com/channel/UCHYEPXnBtHmaLF3pOIGhwUw" class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-primary hover:text-white transition-colors">
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-bold text-lg mb-6" data-i18n="footer.product">Product</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.features">Features</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.pricing">Pricing</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.pro">Pro Membership</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.plugins">Plugins</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.updates">Updates</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-bold text-lg mb-6" data-i18n="footer.company">Company</h3>
                    <ul class="space-y-3">
                        <li><a href="about.html" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.about">About Us</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.blog">Blog</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.careers">Careers</a></li>
                        <li><a href="/cdn-cgi/l/email-protection#81e8efe7eec1f5f8edeee0e8afe2eeec" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.contact">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-bold text-lg mb-6" data-i18n="footer.legal">Legal</h3>
                    <ul class="space-y-3">
                        <li><a href="privacypolicy.html" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.privacy">Privacy Policy</a></li>
                        <li><a href="privacypolicy.html" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.terms">Terms of Service</a></li>
                        <li><a href="privacypolicy.html" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.cookies">Cookie Policy</a></li>
                        <li><a href="privacypolicy.html" class="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors" data-i18n="footer.compliance">Compliance</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="pt-8 border-t border-gray-200 dark:border-gray-800 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 dark:text-gray-400 text-sm mb-4 md:mb-0" data-i18n="footer.copyright">© 2025 TyloAI. All rights reserved.</p>
                <div class="flex items-center">
                    <button id="footerThemeToggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors mr-4">
                        <i class="fa fa-moon-o dark:hidden text-gray-600"></i>
                        <i class="fa fa-sun-o hidden dark:inline text-yellow-400"></i>
                    </button>
                    <select id="footerLanguageSelect" class="bg-gray-200 dark:bg-gray-800 border-0 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary">
                        <option value="en">English</option>
                        <option value="zh">中文</option>
                        <option value="es">Español</option>
                        <option value="fr">Français</option>
                        <option value="de">Deutsch</option>
                        <option value="ja">日本語</option>
                        <option value="ko">한국어</option>
                        <option value="ru">Русский</option>
                        <option value="pt">Português</option>
                        <option value="it">Italiano</option>
                    </select>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const translations = {
            en: {
                login: "Login",
                nav: { features: "Features", technology: "Technology", pricing: "Pricing", about: "About" },
                hero: { subtitle: "Experience ode-6: The AI that thinks, searches, and reflects - all in real-time.", cta: "Ask TyloAI" },
                video: {
                    title: "See TyloAI in Action",
                    subtitle: "Watch our promotional videos to discover the power of TyloAI's capabilities.",
                    researchTitle: "Research Capabilities",
                    researchDesc: "Explore how TyloAI transforms research with advanced analysis and insights.",
                    watchResearch: "Watch Research Video",
                    overviewTitle: "Complete Overview",
                    overviewDesc: "Get a comprehensive look at all TyloAI features and capabilities.",
                    watchOverview: "Watch Overview Video",
                    unsupported: "Your browser does not support the video tag."
                },
                features: {
                    title: "Core AI Capabilities",
                    subtitle: "TyloAI offers a comprehensive suite of advanced AI tools to power your productivity and creativity.",
                    ode6: { title: "ode-6 Agent Architecture", description: "Next-gen AI with consciousness stream:", autonomous: "Autonomous decision-making (0.3-1s)", realtime: "Real-time search while reasoning", introspection: "Post-thinking introspection", apis: "10 integrated APIs in one model" },
                    multiModel: { title: "Multi-Model Support", deepSearch: "Deep Search Analysis", coding: "Advanced Coding", reasoning: "Deep Reasoning", research: "Advanced Research" },
                    agent: { title: "Multi-Agent Collaboration", description: "Collaborative intelligence system:", threeAIs: "3 AI models analyzing perspectives", debate: "Constructive debate consensus", accuracy: "99% standard accuracy", math: "95.7% complex math accuracy" },
                    generation: { title: "Content Generation", images: "Image Generation (Aria model)", styles: "Multiple artistic styles", music: "Music Generation (Suno)", streaming: "Real-time streaming output" },
                    chat: { title: "Advanced Chat", context: "Context memory system", upload: "Multi-format file uploads", voices: "Multiple voice styles", code: "Code execution Canvas" },
                    business: { title: "Business Features", payment: "WeChat Pay + Stripe", invite: "Invitation rewards system", codes: "Redeemable codes", marketplace: "Plugin marketplace" },
                    seeAll: "See all 30+ features"
                },
                tech: { title: "Technical Excellence", subtitle: "Built with cutting-edge technology to deliver a seamless experience across all devices.", responsive: "Responsive Design", responsiveDesc: "Perfect on all devices", darkMode: "Dark Mode", darkModeDesc: "Easy theme switching", sync: "Real-time Sync" },
                pricing: {
                    title: "Choose Your Plan",
                    subtitle: "Flexible pricing options for every need. Switch to yearly and save 20%.",
                    monthly: "Monthly",
                    annually: "Annually",
                    starter: { title: "Starter", description: "For individuals starting to explore AI capabilities.", price: "$0", period: "/ month", f1: "100 messages/month", f2: "Standard model access", f3: "Standard search analysis", f4: "Community support", cta: "Get Started" },
                    pro: { title: "Pro", badge: "Most Popular", description: "For professionals who need advanced AI power.", f1: "Unlimited messages", f2: "Full ode-6 Agent access", f3: "Advanced models (coding, research)", f4: "50 image/music credits/month", f5: "Priority email support", cta: "Upgrade to Pro" },
                    enterprise: { title: "Enterprise", description: "For teams and organizations requiring scale and security.", price: "Let's Talk", f1: "All features in Pro", f2: "Team management & billing", f3: "SSO & enhanced security", f4: "Custom API integrations", f5: "Dedicated 24/7 support", cta: "Contact Sales" }
                },
                about: {
                    title: "About TyloAI",
                    description: "Our mission is to build artificial intelligence that is not just powerful, but also intuitive, accessible, and a true partner in human creativity and productivity.",
                    p1: "TyloAI was founded on a simple yet profound belief: the future of technology lies in the seamless collaboration between human and artificial intelligence. We saw a world on the cusp of a new era, but the tools felt fragmented, complex, and impersonal. We set out to change that.",
                    p2: "Our team of researchers, engineers, and designers is dedicated to pushing the boundaries of what's possible. From developing our groundbreaking ode-6 agent architecture to integrating multi-modal capabilities, every step we take is guided by our commitment to creating an AI that understands context, reasons deeply, and interacts naturally.",
                    v1: { title: "Innovation", desc: "We are relentless in our pursuit of the next breakthrough, constantly exploring new frontiers in AI to deliver unparalleled capabilities." },
                    v2: { title: "Integrity", desc: "We build with responsibility, ensuring our technology is developed ethically, with a strong commitment to user privacy and data security." },
                    v3: { title: "Excellence", desc: "From the underlying models to the user interface, we are obsessed with quality, creating a product that is reliable, elegant, and a joy to use." }
                },
                common: { new: "NEW" }
            },
            zh: {
                login: "登录",
                nav: { features: "功能特性", technology: "技术架构", pricing: "价格方案", about: "关于我们" },
                hero: { subtitle: "体验ode-6：会思考、会搜索、会反思的AI——全实时运行。", cta: "询问TyloAI" },
                video: {
                    title: "观看TyloAI实战演示",
                    subtitle: "通过我们的宣传视频，发现TyloAI强大功能的魅力。",
                    researchTitle: "研究能力",
                    researchDesc: "探索TyloAI如何通过先进分析和洞察改变研究方式。",
                    watchResearch: "观看研究视频",
                    overviewTitle: "完整概览",
                    overviewDesc: "全面了解TyloAI的所有功能和能力。",
                    watchOverview: "观看概览视频",
                    unsupported: "您的浏览器不支持视频标签。"
                },
                features: {
                    title: "核心AI能力",
                    subtitle: "TyloAI提供全面的先进AI工具套件，助力提升您的生产力和创造力。",
                    ode6: { title: "ode-6智能体架构", description: "具有意识流的下一代AI：", autonomous: "自主决策（0.3-1秒）", realtime: "推理时实时搜索", introspection: "思考后自省", apis: "10个集成API于一体的模型" },
                    multiModel: { title: "多模型支持", deepSearch: "深度搜索分析", coding: "高级编程", reasoning: "深度推理", research: "高级研究" },
                    agent: { title: "多智能体协作", description: "协作智能系统：", threeAIs: "3个AI模型多角度分析", debate: "建设性辩论达成共识", accuracy: "99%标准准确率", math: "95.7%复杂数学准确率" },
                    generation: { title: "内容生成", images: "图像生成（Aria模型）", styles: "多种艺术风格", music: "音乐生成（Suno）", streaming: "实时流式输出" },
                    chat: { title: "高级聊天", context: "上下文记忆系统", upload: "多格式文件上传", voices: "多种语音风格", code: "代码执行画布" },
                    business: { title: "商业功能", payment: "微信支付 + Stripe", invite: "邀请奖励系统", codes: "可兑换码", marketplace: "插件市场" },
                    seeAll: "查看全部30+功能"
                },
                tech: { title: "技术优势", subtitle: "采用尖端技术构建，在所有设备上提供无缝体验。", responsive: "响应式设计", responsiveDesc: "适配所有设备", darkMode: "深色模式", darkModeDesc: "轻松切换主题", sync: "实时同步" },
                pricing: {
                    title: "选择您的计划",
                    subtitle: "满足各种需求的灵活定价方案。切换到年付方案可节省20%。",
                    monthly: "月付",
                    annually: "年付",
                    starter: { title: "入门版", description: "适合刚开始探索AI能力的个人用户。", price: "¥0", period: "/ 月", f1: "100条消息/月", f2: "标准模型访问", f3: "标准搜索分析", f4: "社区支持", cta: "免费开始" },
                    pro: { title: "专业版", badge: "最受欢迎", description: "适合需要高级AI能力的专业人士。", f1: "无限消息", f2: "完整ode-6智能体访问权", f3: "高级模型(编程、研究)", f4: "50次图片/音乐生成/月", f5: "优先邮件支持", cta: "升级至专业版" },
                    enterprise: { title: "企业版", description: "适合需要规模化和安全性的团队及组织。", price: "联系我们", f1: "包含专业版所有功能", f2: "团队管理与账单", f3: "单点登录(SSO)与增强安全", f4: "自定义API集成", f5: "专属24/7技术支持", cta: "联系销售" }
                },
                about: {
                    title: "关于 TyloAI",
                    description: "我们的使命是构建不仅功能强大，而且直观、易于使用的人工智能，成为人类创造力和生产力的真正伙伴。",
                    p1: "TyloAI 的创立基于一个简单而深刻的信念：技术的未来在于人类与人工智能之间的无缝协作。我们看到了一个处于新时代风口浪尖的世界，但当时的工具却显得支离破碎、复杂且缺乏人性化。我们着手改变这一现状。",
                    p2: "我们的研究员、工程师和设计师团队致力于推动可能性的边界。从开发突破性的 ode-6 智能体架构到集成多模态功能，我们所走的每一步都以我们的承诺为指导：创造一个能够理解上下文、进行深度推理并自然交互的 AI。",
                    v1: { title: "创新", desc: "我们不懈地追求下一次技术突破，不断探索人工智能的新领域，以提供无与伦比的能力。" },
                    v2: { title: "诚信", desc: "我们以负责任的态度进行建设，确保我们的技术在合乎道德规范的前提下发展，并坚守对用户隐私和数据安全的承诺。" },
                    v3: { title: "卓越", desc: "从底层模型到用户界面，我们对质量精益求精，致力于创造一个可靠、优雅且使用愉悦的产品。" }
                },
                common: { new: "新功能" }
            }
        };

        // Global Chat Variables
        let messageCount = 0;
        const MAX_MESSAGES = 3;
        let conversationHistory = [];
        let isProcessing = false;
        let isChatMode = false;

        // Initialization Function
        document.addEventListener('DOMContentLoaded', function() {
            initializeLanguage();
            initializeLottie();
            initializeNavbar();
            initializeTheme();
            initializeChat();
        });

        // Language Toggle Functionality
        function initializeLanguage() {
            const languageOptions = document.querySelectorAll('.language-option');
            const currentLanguageEl = document.getElementById('currentLanguage');
            
            // Initialize language to English
            setLanguage('en');
            
            languageOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.preventDefault();
                    const lang = this.getAttribute('data-lang');
                    setLanguage(lang);
                });
            });
            
            function setLanguage(lang) {
                // Update current language display
                currentLanguageEl.textContent = {
                    'en': 'English',
                    'zh': '中文',
                    'ja': '日本語',
                    'ko': '한국어'
                }[lang];
                
                // Apply translations
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const keys = el.getAttribute('data-i18n').split('.');
                    let value = translations[lang];
                    
                    for (const key of keys) {
                        if (value && value[key] !== undefined) {
                            value = value[key];
                        } else {
                            value = null;
                            break;
                        }
                    }
                    
                    if (value) {
                        el.textContent = value;
                    }
                });
            }
        }

        // Initialize Lottie Animations
        function initializeLottie() {
            const lottieElements = document.querySelectorAll('[data-lottie]');
            lottieElements.forEach(el => {
                const src = el.getAttribute('data-lottie-src');
                lottie.loadAnimation({
                    container: el,
                    renderer: 'svg',
                    loop: true,
                    autoplay: true,
                    path: src
                });
            });
        }

        // Navbar Scroll Effect
        function initializeNavbar() {
            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('bg-white/98', 'shadow-md', 'dark:bg-dark/95');
                    navbar.classList.remove('bg-transparent');
                } else {
                    navbar.classList.remove('bg-white/98', 'shadow-md', 'dark:bg-dark/95');
                    navbar.classList.add('bg-transparent');
                }
            });
        }

        // Theme Toggle Functionality
        function initializeTheme() {
            const themeToggle = document.getElementById('themeToggle');
            if (localStorage.getItem('theme') === 'dark' || 
                (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
            });
        }

        // Chat Functionality Initialization
        function initializeChat() {
            const sendButton = document.getElementById('sendButton');
            const chatInput = document.getElementById('chatInput');
            const chatInputField = document.getElementById('chatInputField');
            const chatMessages = document.getElementById('chatMessages');
            const messageCounter = document.getElementById('messageCounter');
            const heroSection = document.getElementById('heroSection');
            const heroLayout = document.getElementById('heroLayout');

            // Send button click event
            sendButton.addEventListener('click', handleSendMessage);

            // Enter key to send (Shift+Enter for new line)
            chatInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendButton.click();
                }
            });

            // Auto-adjust input field height
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });

            async function handleSendMessage() {
                if (isProcessing) return;
                
                const message = chatInput.value.trim();
                if (!message) return;

                // Check message limit
                if (messageCount >= MAX_MESSAGES) {
                    alert(`You have used all ${MAX_MESSAGES} free messages. Redirecting to login.`);
                    window.location.href = 'login.html';
                    return;
                }

                // Switch to chat mode on first message
                if (!isChatMode) {
                    switchToChatMode();
                }

                messageCount++;
                updateMessageCounter();
                isProcessing = true;
                sendButton.disabled = true;

                // Clear input field
                chatInput.value = '';
                chatInput.style.height = 'auto';

                // Add user message
                addMessage(message, 'user');

                // Update conversation history
                conversationHistory.push({
                    role: "user",
                    content: message
                });

                // Build message array, adding system prompt on the first message
                const messages = messageCount === 1 ? [
                    {
                        role: "system",
                        content: "You are ode-6-flash, an advanced AI assistant created by TyloAI. You provide helpful, accurate, and friendly responses. Keep your responses concise and engaging, usually under 150 words unless more detail is specifically requested."
                    },
                    ...conversationHistory
                ] : conversationHistory;

                // Display typing indicator
                const typingIndicator = addTypingIndicator();

                try {
                    const response = await fetch('https://jeniya.cn/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer sk-9OiUODVwmax1pWQOu7tM40fYy2V2MKR7W2PxYNSPsKLStscK'
                        },
                        body: JSON.stringify({
                            model: 'deepseek-v3',
                            messages: messages,
                            stream: true,
                            temperature: 0.7,
                            max_tokens: 2000
                        })
                    });

                    // Remove typing indicator
                    typingIndicator.remove();

                    // Handle stream response
                    await handleStreamResponse(response);

                    // Check if the limit has been reached
                    if (messageCount >= MAX_MESSAGES) {
                        setTimeout(() => {
                            alert(`You have used all ${MAX_MESSAGES} free messages. Redirecting to login.`);
                            window.location.href = 'login.html';
                        }, 2000);
                    }

                } catch (error) {
                    console.error('API call failed:', error);
                    typingIndicator.remove();
                    addMessage('Sorry, an error occurred. Please try again later.', 'assistant');
                } finally {
                    isProcessing = false;
                    sendButton.disabled = false;
                    chatInput.focus();
                }
            }

            function switchToChatMode() {
                isChatMode = true;
                
                // Show chat message area and message counter
                chatMessages.classList.add('active');
                messageCounter.classList.add('active');
                
                // Adjust hero section layout
                heroSection.classList.add('chat-mode');
                heroLayout.classList.add('chat-mode');
                
                // Expand the input field
                chatInputField.classList.add('expanded');
                
                // Update button text
                sendButton.querySelector('.button_small_text').textContent = 'Send';
                
                // Focus on the input field
                setTimeout(() => {
                    chatInput.focus();
                }, 300);
            }

            function addMessage(content, role) {
                const messageWrapper = document.createElement('div');
                messageWrapper.className = `message ${role}`;

                const contentDiv = document.createElement('div');
                contentDiv.className = 'message-content';
                
                // Support HTML content to display tables and formatting
                if (role === 'assistant') {
                    contentDiv.innerHTML = formatMessageContent(content);
                } else {
                    contentDiv.textContent = content;
                }

                messageWrapper.appendChild(contentDiv);
                
                // **MODIFIED**: Always append messages to the end for chronological order
                chatMessages.appendChild(messageWrapper);
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
                return messageWrapper;
            }

            function formatMessageContent(content) {
                // Basic markdown to HTML conversion
                return content
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/`(.*?)`/g, '<code>$1</code>')
                    .replace(/\n/g, '<br>');
            }

            function addTypingIndicator() {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message assistant';

                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;

                messageDiv.appendChild(typingDiv);
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                return messageDiv;
            }

            async function handleStreamResponse(response) {
                // Create assistant message container
                const messageDiv = addMessage('', 'assistant');
                const contentDiv = messageDiv.querySelector('.message-content');
                
                // Handle stream response
                const reader = response.body.getReader();
                const decoder = new TextDecoder();
                let assistantMessage = '';
                let thinkingContent = '';
                let isInThinking = false;
                let thinkingContainer = null;

                while (true) {
                    const { done, value } = await reader.read();
                    if (done) break;

                    const chunk = decoder.decode(value);
                    const lines = chunk.split('\n');

                    for (const line of lines) {
                        if (line.startsWith('data: ')) {
                            const data = line.slice(6);
                            if (data === '[DONE]') continue;

                            try {
                                const json = JSON.parse(data);
                                const content = json.choices[0]?.delta?.content || '';
                                
                                // Detect thinking process
                                if (content.includes('<thinking>')) {
                                    isInThinking = true;
                                    thinkingContainer = createThinkingContainer();
                                    messageDiv.insertBefore(thinkingContainer, contentDiv);
                                    continue;
                                }
                                
                                if (content.includes('</thinking>')) {
                                    isInThinking = false;
                                    continue;
                                }
                                
                                if (isInThinking) {
                                    thinkingContent += content;
                                    updateThinkingContent(thinkingContainer, thinkingContent);
                                } else {
                                    assistantMessage += content;
                                    contentDiv.innerHTML = formatMessageContent(assistantMessage) + '<span class="streaming-cursor"></span>';
                                    chatMessages.scrollTop = chatMessages.scrollHeight;
                                }
                            } catch (e) {
                                // Ignore parsing errors
                            }
                        }
                    }
                }

                // Remove cursor
                const finalCursor = contentDiv.querySelector('.streaming-cursor');
                if (finalCursor) {
                    finalCursor.remove();
                }

                // Update conversation history
                conversationHistory.push({
                    role: "assistant",
                    content: assistantMessage
                });
            }

            function createThinkingContainer() {
                const container = document.createElement('div');
                container.className = 'thinking-container';
                
                const header = document.createElement('div');
                header.className = 'thinking-header';
                header.innerHTML = `
                    <span>Thinking...</span>
                    <i class="fa fa-chevron-down thinking-toggle"></i>
                `;
                
                const content = document.createElement('div');
                content.className = 'thinking-content';
                
                header.addEventListener('click', () => {
                    content.classList.toggle('expanded');
                    header.querySelector('.thinking-toggle').classList.toggle('expanded');
                });
                
                container.appendChild(header);
                container.appendChild(content);
                
                return container;
            }

            function updateThinkingContent(container, content) {
                const contentDiv = container.querySelector('.thinking-content');
                contentDiv.textContent = content;
            }

            function updateMessageCounter() {
                const countEl = document.getElementById('messageCount');
                countEl.textContent = messageCount;
            }
        }

        // Video Selector Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const videoSelectors = document.querySelectorAll('.video-selector');
            const researchVideo = document.getElementById('researchVideo');
            const overviewVideo = document.getElementById('overviewVideo');

            videoSelectors.forEach(selector => {
                selector.addEventListener('click', function() {
                    const videoType = this.getAttribute('data-video');
                    
                    // Update button states
                    videoSelectors.forEach(btn => {
                        btn.classList.remove('bg-primary/10', 'text-primary');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700');
                    });
                    
                    this.classList.remove('bg-gray-200', 'dark:bg-gray-700');
                    this.classList.add('bg-primary/10', 'text-primary');

                    // Toggle videos
                    if (videoType === 'research') {
                        researchVideo.classList.remove('hidden');
                        overviewVideo.classList.add('hidden');
                        // Pause YouTube video
                        overviewVideo.src = overviewVideo.src;
                    } else {
                        researchVideo.classList.add('hidden');
                        overviewVideo.classList.remove('hidden');
                        // Pause local video
                        researchVideo.pause();
                    }
                });
            });
        });
    </script>
</body>
</html>